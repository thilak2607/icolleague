<!-- templates/status_formatter.html -->
<!-- 
This template provides reusable status formatting macros.
Include in other templates with: 
{% include "status_formatter.html" %}
-->

<!-- Task Status Badges -->
{% macro task_status_badge(status) %}
    {% if status == 'Completed' %}
        <span class="badge badge-success">
            <i class="fas fa-check-circle"></i> {{ status }}
        </span>
    {% elif status == 'In Progress' %}
        <span class="badge badge-primary">
            <i class="fas fa-spinner fa-spin"></i> {{ status }}
        </span>
    {% elif status == 'Pending' %}
        <span class="badge badge-warning">
            <i class="fas fa-clock"></i> {{ status }}
        </span>
    {% elif status == 'On Hold' %}
        <span class="badge badge-danger">
            <i class="fas fa-pause-circle"></i> {{ status }}
        </span>
    {% elif status == 'Review' %}
        <span class="badge badge-info">
            <i class="fas fa-eye"></i> {{ status }}
        </span>
    {% else %}
        <span class="badge">
            <i class="fas fa-circle"></i> {{ status }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Task Priority Badges -->
{% macro task_priority_badge(priority) %}
    {% if priority == 'High' %}
        <span class="badge badge-danger">
            <i class="fas fa-exclamation-triangle"></i> {{ priority }}
        </span>
    {% elif priority == 'Medium' %}
        <span class="badge badge-warning">
            <i class="fas fa-exclamation-circle"></i> {{ priority }}
        </span>
    {% elif priority == 'Low' %}
        <span class="badge badge-success">
            <i class="fas fa-arrow-down"></i> {{ priority }}
        </span>
    {% elif priority == 'Critical' %}
        <span class="badge badge-dark" style="background: #7c2d12; color: white;">
            <i class="fas fa-skull-crossbones"></i> {{ priority }}
        </span>
    {% else %}
        <span class="badge">
            {{ priority }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Employee Status Badges -->
{% macro employee_status_badge(status) %}
    {% if status == 'Available' %}
        <span class="badge badge-success" title="Available">
            <i class="fas fa-circle" style="font-size: 8px;"></i> Available
        </span>
    {% elif status == 'Busy' %}
        <span class="badge badge-warning" title="Busy">
            <i class="fas fa-circle" style="font-size: 8px;"></i> Busy
        </span>
    {% elif status == 'In Meeting' %}
        <span class="badge badge-info" title="In Meeting">
            <i class="fas fa-video"></i> In Meeting
        </span>
    {% elif status == 'Out of Office' %}
        <span class="badge badge-secondary" title="Out of Office">
            <i class="fas fa-plane"></i> Out of Office
        </span>
    {% elif status == 'On Leave' %}
        <span class="badge badge-danger" title="On Leave">
            <i class="fas fa-umbrella-beach"></i> On Leave
        </span>
    {% elif status == 'WFH' %}
        <span class="badge badge-primary" title="Working From Home">
            <i class="fas fa-home"></i> WFH
        </span>
    {% else %}
        <span class="badge" title="{{ status }}">
            <i class="fas fa-circle" style="font-size: 8px;"></i> {{ status }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Attendance Status Badges -->
{% macro attendance_status_badge(status) %}
    {% if status == 'Present' %}
        <span class="badge badge-success">
            <i class="fas fa-check"></i> Present
        </span>
    {% elif status == 'Absent' %}
        <span class="badge badge-danger">
            <i class="fas fa-times"></i> Absent
        </span>
    {% elif status == 'Late' %}
        <span class="badge badge-warning">
            <i class="fas fa-clock"></i> Late
        </span>
    {% elif status == 'Half Day' %}
        <span class="badge badge-info">
            <i class="fas fa-adjust"></i> Half Day
        </span>
    {% elif status == 'WFH' %}
        <span class="badge badge-primary">
            <i class="fas fa-home"></i> WFH
        </span>
    {% elif status == 'On Leave' %}
        <span class="badge badge-secondary">
            <i class="fas fa-umbrella-beach"></i> On Leave
        </span>
    {% else %}
        <span class="badge">
            {{ status }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Leave Status Badges -->
{% macro leave_status_badge(status) %}
    {% if status == 'Approved' %}
        <span class="badge badge-success">
            <i class="fas fa-check-circle"></i> Approved
        </span>
    {% elif status == 'Pending' %}
        <span class="badge badge-warning">
            <i class="fas fa-clock"></i> Pending
        </span>
    {% elif status == 'Rejected' %}
        <span class="badge badge-danger">
            <i class="fas fa-times-circle"></i> Rejected
        </span>
    {% elif status == 'Cancelled' %}
        <span class="badge badge-secondary">
            <i class="fas fa-ban"></i> Cancelled
        </span>
    {% else %}
        <span class="badge">
            {{ status }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Expense Status Badges -->
{% macro expense_status_badge(status) %}
    {% if status == 'Approved' %}
        <span class="badge badge-success">
            <i class="fas fa-check"></i> Approved
        </span>
    {% elif status == 'Pending' %}
        <span class="badge badge-warning">
            <i class="fas fa-clock"></i> Pending
        </span>
    {% elif status == 'Reimbursed' %}
        <span class="badge badge-info">
            <i class="fas fa-rupee-sign"></i> Reimbursed
        </span>
    {% elif status == 'Rejected' %}
        <span class="badge badge-danger">
            <i class="fas fa-times"></i> Rejected
        </span>
    {% elif status == 'Submitted' %}
        <span class="badge badge-primary">
            <i class="fas fa-paper-plane"></i> Submitted
        </span>
    {% else %}
        <span class="badge">
            {{ status }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Project Status Badges -->
{% macro project_status_badge(status) %}
    {% if status == 'Active' %}
        <span class="badge badge-success">
            <i class="fas fa-play-circle"></i> Active
        </span>
    {% elif status == 'Planning' %}
        <span class="badge badge-info">
            <i class="fas fa-clipboard-list"></i> Planning
        </span>
    {% elif status == 'On Hold' %}
        <span class="badge badge-warning">
            <i class="fas fa-pause-circle"></i> On Hold
        </span>
    {% elif status == 'Completed' %}
        <span class="badge badge-secondary">
            <i class="fas fa-flag-checkered"></i> Completed
        </span>
    {% elif status == 'Cancelled' %}
        <span class="badge badge-danger">
            <i class="fas fa-times-circle"></i> Cancelled
        </span>
    {% else %}
        <span class="badge">
            {{ status }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Meeting Status Badges -->
{% macro meeting_status_badge(status) %}
    {% if status == 'Scheduled' %}
        <span class="badge badge-primary">
            <i class="fas fa-calendar-alt"></i> Scheduled
        </span>
    {% elif status == 'In Progress' %}
        <span class="badge badge-success">
            <i class="fas fa-video"></i> Live
        </span>
    {% elif status == 'Completed' %}
        <span class="badge badge-secondary">
            <i class="fas fa-check-circle"></i> Completed
        </span>
    {% elif status == 'Cancelled' %}
        <span class="badge badge-danger">
            <i class="fas fa-times-circle"></i> Cancelled
        </span>
    {% elif status == 'Postponed' %}
        <span class="badge badge-warning">
            <i class="fas fa-calendar-times"></i> Postponed
        </span>
    {% else %}
        <span class="badge">
            {{ status }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Holiday Type Badges -->
{% macro holiday_type_badge(type) %}
    {% if type == 'Public Holiday' %}
        <span class="badge badge-danger">
            <i class="fas fa-flag"></i> Public Holiday
        </span>
    {% elif type == 'Regional Holiday' %}
        <span class="badge badge-primary">
            <i class="fas fa-map-marker-alt"></i> Regional
        </span>
    {% elif type == 'Optional Holiday' %}
        <span class="badge badge-warning">
            <i class="fas fa-star"></i> Optional
        </span>
    {% elif type == 'Festival' %}
        <span class="badge badge-success">
            <i class="fas fa-gift"></i> Festival
        </span>
    {% else %}
        <span class="badge">
            {{ type }}
        </span>
    {% endif %}
{% endmacro %}

<!-- Progress Bar -->
{% macro progress_bar(percentage, size="normal") %}
    {% set width = percentage|int %}
    {% set color = "bg-success" %}
    
    {% if width < 30 %}
        {% set color = "bg-danger" %}
    {% elif width < 70 %}
        {% set color = "bg-warning" %}
    {% endif %}
    
    {% if size == "small" %}
        <div class="progress" style="height: 6px;">
            <div class="progress-bar {{ color }}" style="width: {{ width }}%;"></div>
        </div>
        <small class="text-muted">{{ width }}% complete</small>
    {% else %}
        <div class="progress" style="height: 10px;">
            <div class="progress-bar {{ color }}" style="width: {{ width }}%;"></div>
        </div>
        <div class="d-flex justify-content-between mt-1">
            <small class="text-muted">Progress</small>
            <small class="font-weight-bold">{{ width }}%</small>
        </div>
    {% endif %}
{% endmacro %}

<!-- Status Indicator (Dot) -->
{% macro status_indicator(status) %}
    {% if status == 'active' or status == 'online' or status == 'available' %}
        <span class="status-indicator bg-success" title="Active"></span>
    {% elif status == 'busy' %}
        <span class="status-indicator bg-warning" title="Busy"></span>
    {% elif status == 'away' %}
        <span class="status-indicator bg-danger" title="Away"></span>
    {% elif status == 'offline' %}
        <span class="status-indicator bg-secondary" title="Offline"></span>
    {% else %}
        <span class="status-indicator" title="{{ status }}"></span>
    {% endif %}
{% endmacro %}

<!-- CSS for status indicators -->
<style>
    .status-indicator {
        display: inline-block;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        margin-right: 6px;
        vertical-align: middle;
    }
    
    .badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
    }
    
    .badge-success {
        background-color: #d1fae5;
        color: #065f46;
    }
    
    .badge-primary {
        background-color: #dbeafe;
        color: #1e40af;
    }
    
    .badge-warning {
        background-color: #fef3c7;
        color: #92400e;
    }
    
    .badge-danger {
        background-color: #fee2e2;
        color: #991b1b;
    }
    
    .badge-info {
        background-color: #e0f2fe;
        color: #0369a1;
    }
    
    .badge-secondary {
        background-color: #f1f5f9;
        color: #475569;
    }
    
    .badge-dark {
        background-color: #1e293b;
        color: white;
    }
    
    .progress {
        background-color: #e5e7eb;
        border-radius: 10px;
        overflow: hidden;
    }
    
    .progress-bar {
        border-radius: 10px;
    }
    
    .bg-success { background-color: #10b981; }
    .bg-warning { background-color: #f59e0b; }
    .bg-danger { background-color: #ef4444; }
    .bg-primary { background-color: #3b82f6; }
    
    .text-muted { color: #6b7280; }
    .font-weight-bold { font-weight: 600; }
    .mt-1 { margin-top: 0.25rem; }
    .d-flex { display: flex; }
    .justify-content-between { justify-content: space-between; }
</style>

<!-- How to use these macros in your templates:
1. Include this file at the top of your template:
   {% include "status_formatter.html" %}
   
2. Use any macro like this:
   {{ task_status_badge(task.status) }}
   {{ progress_bar(task.progress) }}
   {{ employee_status_badge(employee.status) }}
-->
